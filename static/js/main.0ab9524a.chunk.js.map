{"version":3,"sources":["Components/Api/Api.js","Redux/reducers/profileReducer.js","Redux/reducers/dialogReducer.js","Redux/reducers/sidebarReducer.js","objects-helpers/helpers.js","Redux/reducers/usersReducer.js","Redux/reducers/authReducer.js","Redux/reducers/appReducer.js","Redux/redux-store.js","Hoc/WithAuthRedirect.js","Components/FormsControls/FormControls.jsx","Validator/validator.js","Components/Content/Dialogs/DialogItem/DialogItem.jsx","Components/Content/Dialogs/Message/Message.jsx","Components/Content/Dialogs/Dialogs.jsx","Components/Content/Dialogs/DialogsContainer.jsx","Components/Paginator/Paginator.jsx","assets/images/ava.png","Components/Users/User.jsx","Components/Users/Users.jsx","assets/images/loader.svg","Components/Preloader/Preloader.jsx","Redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Content/Posts/Post-item/Post-item.jsx","Components/Content/Posts/Posts.jsx","Components/Content/Posts/Posts-container.jsx","Components/Content/Profile/ProfileStatusWithHooks.jsx","Components/Content/Profile/ProfileInfo.jsx","Components/Content/Profile/Profile.jsx","Components/Content/Profile/ProfileContainer.jsx","Components/Content/Login/Login.jsx","Components/Content/Content.jsx","Components/Footer/Footer.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","App.jsx","index.js"],"names":["instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","auth","login","email","password","rememberMe","logOut","getStatus","updateStatus","status","put","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","initialState","posts","id","message","likesCount","profile","setStatus","type","profileReducer","state","action","newPost","postValue","newPostText","filter","p","SEND_MESSAGE","dialogs","name","dialogsReducer","body","newMessageBody","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","pageNumber","toogleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","SET_USER_DATA","isAuth","setAuthUserData","toAuth","authReducer","SET_INITIALIZED","initialized","authInitReducer","reducers","combineReducers","profilePage","messagesPage","sidebar","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","mapStateToPropsForRedirect","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","FormControl","input","meta","child","hasError","touched","error","children","TextArea","restProps","className","Input","requiredField","value","maxLengthCreator","maxLength","length","DialogItem","Message","text","maxLength50","DialogReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","validate","Dialogs","sendMessage","item","sendMessageCreator","Paginator","onPageChanged","portion","pages","pagesCount","Math","ceil","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionpageNumber","rightPortionPageNumber","onClick","User","user","src","photos","small","userPhoto","alt","disabled","some","Users","Preloader","loader","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUserSuper","createSelector","UsersAPIComponent","bind","Post","maxLengthCreator10","PostReduxForm","Posts","addPost","PostsContainer","addPostActionCreator","ProfileStatusWithHooks","editMode","setEditMode","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","ProfileInfo","large","Profile","ProfileContainer","match","params","authorizedUserId","history","withRouter","LoginReduxForm","validators","class","messages","stopSubmit","_error","formData","Content","initialize","href","path","render","DialogsContainer","UsersContainer","Footer","Header","LogOut","HeaderContainer","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0ab9524a.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"720e621c-22bc-48be-a9e1-c157c873fe78\"\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers (currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n    },\r\n    follow (userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow (userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile (userId) {\r\n        console.warn('please use profileAPI')\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n    auth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login (email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logOut () {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return instance.get(\"profile/\" + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/' + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status/' ,{status: status})\r\n    }\r\n}","import { profileAPI, userAPI } from \"../../Components/Api/Api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'How are you?', likesCount: 12},\r\n        {id: 2, message: 'its my first post', likesCount: 11},\r\n      ],\r\n      profile: null,\r\n      status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST : {\r\n            let newPost = {\r\n              id: 3,\r\n              message: action.postValue,\r\n              likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: '',\r\n            };\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.id)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (postValue) => ({type: ADD_POST, postValue})\r\nexport const deletePost = (id) => ({type: DELETE_POST, id})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await userAPI.getProfile(userId)\r\n\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId)\r\n\r\n        dispatch(setStatus(response.data))\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let response = await profileAPI.updateStatus(status)\r\n        \r\n        if (response.data.resultCode === 0 ) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n  message: [\r\n    {id: 1, message: 'Hi'},\r\n    {id: 2, message: 'How is your it-kamasutra?'},\r\n    {id: 3, message: 'Yo'},\r\n    {id: 4, message: 'Yo'},\r\n    {id: 5, message: 'Yo'},\r\n  ],\r\n  dialogs: [\r\n    {id: 1, name: 'Dymich'},\r\n    {id: 2, name: 'Andrey'},\r\n    {id: 3, name: 'Sveta'},\r\n    {id: 4, name: 'Sasha'},\r\n    {id: 5, name: 'Viktor'},\r\n    {id: 6, name: 'Valera'},\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n          let body = action.newMessageBody;\r\n          return {\r\n            ...state,\r\n            message: [...state.message, {id: 6, message: body}],\r\n          };\r\n        }\r\n        default : return state;\r\n      }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","let initialState = {\r\n    \r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { userAPI } from \"../../Components/Api/Api\";\r\nimport { updateObjectInArray } from \"../../objects-helpers/helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case FOLLOW : {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW : {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, \r\n                users: action.users,\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber,\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                ?    [...state.followingInProgress, action.userId]\r\n                :    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n    default: return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const serUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const toogleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toogleIsFetching(false));\r\n        let response = await userAPI.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(toogleIsFetching(true));\r\n        dispatch(serUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n        dispatch(setCurrentPage(currentPage));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator)  => {\r\n\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    \r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import { stopSubmit } from \"redux-form\";\r\nimport { userAPI } from \"../../Components/Api/Api\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}});\r\n\r\nexport const toAuth = () => {\r\n    return async(dispatch) => {\r\n        let response = await userAPI.auth()\r\n\r\n        if (response.data.resultCode === 0 ) {\r\n            let {id, login, email,} = response.data.data;\r\n\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await userAPI.login(email, password, rememberMe)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(toAuth())\r\n            } else {\r\n                const message = response.data.messages.length > 0 ? response.data.messages[0] : 'some error'\r\n                dispatch(stopSubmit('login', {_error: message,}))\r\n            }\r\n    }\r\n}\r\n\r\nexport const LogOut = () => {\r\n    return async(dispatch) => {\r\n        let response = await userAPI.logOut()\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { toAuth } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst authInitReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setInitializedSucces = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initialize = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(toAuth());\r\n\r\n        promise.then(() => {\r\n            dispatch(setInitializedSucces());\r\n        })\r\n    }\r\n}\r\n\r\nexport default authInitReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport dialogsReducer from './reducers/dialogReducer';\r\nimport sidebarReducer from './reducers/sidebarReducer';\r\nimport usersReducer from './reducers/usersReducer';\r\nimport authReducer from './reducers/authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport authInitReducer from './reducers/appReducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: authInitReducer,\r\n    form: formReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return  <Redirect to={\"/Login\"} />\r\n        \r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport './FormControls.scss'\r\n\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return(\r\n        <div>\r\n            {props.children}\r\n            {hasError &&\r\n                <span>{meta.error}</span>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n       <FormControl {...props}><textarea className={meta.touched && meta.error && 'error'} {...input} {...restProps}/></FormControl>\r\n   )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n       <FormControl {...props}><input className={meta.touched && meta.error && 'error'} {...input} {...restProps}/></FormControl>\r\n   )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component ) => {\r\n    return(  <Field placeholder={placeholder} name={name} component={component} validate={validators}/>)\r\n}"," export const requiredField = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    } else {\r\n        return 'error epta'\r\n    }\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) {\r\n        return `Max length is ${maxLength}`\r\n    } else {\r\n        return undefined\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = ({name, id}) => {\r\n    return(\r\n        <div className=\"dialog active\">\r\n            <NavLink to={`/Dialogs/${id}`}>{name}</NavLink> \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\n\r\nconst Message = ({text}) => {\r\n    return(\r\n        <div className=\"message\">{text}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { TextArea } from '../../FormsControls/FormControls';\r\nimport { maxLengthCreator, requiredField } from '../../../Validator/validator';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport './Dialogs.scss';\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let dialogs = props.dialogs.dialogs;\r\n    let message = props.dialogs.message;\r\n    let sendMessage = props.sendMessage;\r\n\r\n    const addNewMessage = (value) => {\r\n        sendMessage(value.newMessageBody)\r\n    }\r\n    return(\r\n        <div className=\"dialogs\">\r\n            <div className=\"dialogs-items\">\r\n\r\n                {dialogs.map((item) => {\r\n                    return(\r\n                        <DialogItem key={item.id} name={item.name} id={item.id}/>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"messages\">\r\n                {message.map((item) => {\r\n                    return(\r\n                        <Message key={item.id} text={item.message}/>\r\n                    )\r\n                })}\r\n                <div>\r\n                    <DialogReduxForm onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst DialogForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field \r\n                    name=\"newMessageBody\" \r\n                    placeholder=\"Enter your message\" \r\n                    component={TextArea} \r\n                    validate={[requiredField, maxLength50]}/>\r\n            </div>\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst DialogReduxForm = reduxForm({form: 'dialogs'})(DialogForm)\r\n\r\nexport default Dialogs;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { WithAuthRedirect } from '../../../Hoc/WithAuthRedirect';\r\nimport { sendMessageCreator } from '../../../Redux/reducers/dialogReducer';\r\nimport Dialogs from './Dialogs';\r\nimport './Dialogs.scss';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.messagesPage,\r\n    }\r\n}\r\n\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect\r\n\r\n)(Dialogs);","import React, { useState } from 'react';\r\n\r\nexport const Paginator = ({totalUsersCount, pageSize, onPageChanged, currentPage, portion}) => {\r\n   \r\n    let pages = [];\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(totalUsersCount / portion);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionpageNumber = (portionNumber -1 ) * pageSize + 1;\r\n    let rightPortionPageNumber = portionNumber * pageSize;\r\n    return(\r\n        <>  \r\n            {portionNumber > 1 && \r\n                <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>\r\n            }\r\n            {pages.filter((p) =>  p >= leftPortionpageNumber && p <= rightPortionPageNumber )\r\n            .map((p) => {\r\n                return(\r\n                <span onClick={() => {onPageChanged(p)}}\r\n                    className={currentPage === p ? \"selected-page\" : \"\"}>\r\n                {p}\r\n                </span> \r\n                )\r\n            })}\r\n            {portionCount > portionNumber && \r\n            <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>\r\n            }\r\n        </>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ava.7d794afd.png\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/ava.png\";\r\nimport './Users.scss';\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div key={user.id} className=\"user\">\r\n            <div className=\"user-nav\">\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img\r\n                        src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                        alt=\"avatar\"\r\n                    />\r\n                </NavLink>\r\n                {user.followed ? (\r\n                    <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {unfollow(user.id)}}>\r\n                        Follow\r\n                    </button>\r\n                ) : (\r\n                    <button disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {follow(user.id)}}>\r\n                        Unfollow\r\n                    </button>\r\n                )}\r\n            </div>\r\n            <div className=\"user-info\">\r\n                <div>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { Paginator } from \"../Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport './Users.scss';\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, followingInProgress, unfollow, follow, ...props}) => {\r\n    let portion = 10;\r\n    return (\r\n        <div className=\"users-wrapper\">\r\n            <div>\r\n                <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalUsersCount={totalUsersCount}\r\n                    pageSize={pageSize} portion={portion}/>\r\n            </div>\r\n            {props.users.map((item) => {\r\n                return (\r\n                    <User key={item.id} user={item} followingInProgress={followingInProgress} unfollow={unfollow}\r\n                    follow={follow}/>\r\n            )\r\n        })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;\r\n","export default __webpack_public_path__ + \"static/media/loader.2238608e.svg\";","import React from 'react';\r\nimport loader from '../../assets/images/loader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return(\r\n        <>\r\n            <img src={loader} alt=\"Preloader\"/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import {createSelector} from 'reselect';\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUserSuper = createSelector(getUsers,(users) => {\r\n    return users.filter(u => true)\r\n})","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers } from '../../Redux/reducers/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUserSuper } from '../../Redux/users-selectors';\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n    render() {\r\n        return <>\r\n            {!this.props.isFetching ? <Preloader />: null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n            pageSize = {this.props.pageSize}\r\n            currentPage = {this.props.currentPage}\r\n            onPageChanged = {this.onPageChanged}\r\n            users = {this.props.users}\r\n            follow = {this.props.follow}\r\n            unfollow = {this.props.unfollow}\r\n            followingInProgress = {this.props.followingInProgress}\r\n            />\r\n        </>\r\n    \r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUserSuper(state),\r\n        // users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, \r\n        {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers})\r\n)(UsersAPIComponent)","import React from 'react';\r\n\r\nconst Post = ({message,likesCount}) => {\r\n    return(\r\n        <div className=\"post\">  \r\n            <img src=\"data:image/png;base64,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\" alt=\"post\"/>\r\n                <span>{message}</span>\r\n                <div>\r\n                   like: {likesCount}\r\n                </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { requiredField, maxLengthCreator } from '../../../Validator/validator';\r\nimport { TextArea } from '../../FormsControls/FormControls';\r\nimport Post from './Post-item/Post-item';\r\n\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\n\r\nconst Posts = ({posts, addPost}) => {\r\n    const onSubmit = (value) => {\r\n        addPost(value.postValue)\r\n    }\r\n    return(\r\n        <>  <div>\r\n                My Posts\r\n            </div> \r\n            <div>\r\n              <PostReduxForm onSubmit={onSubmit}/>\r\n                <div className=\"posts\">\r\n                    {posts.map((item) => {\r\n                        return(\r\n                            <Post message={item.message} likesCount={item.likesCount} key={item.id} />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst PostForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field name=\"postValue\" placeholder=\"Введите название поста\" component={TextArea} validate={[requiredField, maxLengthCreator10]}/>\r\n            <br/>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({form: 'posts'})(PostForm)\r\n\r\nexport default Posts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../Redux/reducers/profileReducer';\r\nimport Posts from './Posts';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (postValue) => {\r\n            dispatch(addPostActionCreator(postValue))\r\n        }\r\n    }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status])\r\n\r\n    const acivateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deacivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n    \r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {!editMode && \r\n                <p onDoubleClick={acivateEditMode}>{props.status || 'sadasda'}</p>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        autoFocus={true} \r\n                        type=\"text\"\r\n                        value={status}\r\n                        onBlur={deacivateEditMode}\r\n                        />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../Preloader/Preloader';\r\nimport ProfileStatusWithHooks from '../Profile/ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = ({profile, ...props}) => {\r\n    if (!profile) {\r\n        return (\r\n            <Preloader />\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <div>\r\n                <img src={profile.photos.large} alt=\"ava\" />\r\n                <ProfileStatusWithHooks {...props}/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport PostsContainer from \"../Posts/Posts-container\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n    return(\r\n        <div>\r\n            <main>\r\n                <ProfileInfo {...props}/>\r\n                <PostsContainer />\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport {getProfile, getStatus, updateStatus} from '../../../Redux/reducers/profileReducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect, withRouter } from 'react-router';\r\nimport { WithAuthRedirect } from '../../../Hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        \r\n        if (!userId)  {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/Login\")\r\n            }\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isAuth) return <Redirect to={\"/Login\"} />\r\n        return (\r\n            <main>\r\n                <Profile {...this.props}/>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    WithAuthRedirect\r\n)(ProfileContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { requiredField } from '../../../Validator/validator';\r\nimport { createField, Input } from '../../FormsControls/FormControls';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../../Redux/reducers/authReducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport \"../../../Components/FormsControls/FormControls.scss\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form class=\"form-login\" onSubmit={handleSubmit}>\r\n            <div>\r\n                {createField(\"Email\", \"email\", [requiredField], Input, )}\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" name=\"password\" type=\"password\" component={Input} validate={[requiredField]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name=\"rememberMe\" type=\"checkbox\"/> remember me\r\n            </div>\r\n            {error && <div className=\"form-error\">\r\n                {error}\r\n            </div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = ({login, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect  to={'/Profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n           <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import React from 'react';\r\nimport { NavLink, Route } from 'react-router-dom';\r\nimport DialogsContainer from './Dialogs/DialogsContainer';\r\nimport UsersContainer from '../Users/UsersContainer';\r\nimport ProfileContainer from './Profile/ProfileContainer';\r\nimport './Content.scss';\r\nimport Login from './Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { initialize } from '../../Redux/reducers/appReducer';\r\nimport { toAuth } from '../../Redux/reducers/authReducer';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\nclass Content extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initialize();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return(\r\n                <div className=\"content\">\r\n                    <nav>\r\n                        <ul>\r\n                            <li><NavLink to=\"/Profile\">Profile</NavLink></li>\r\n                            <li><NavLink to=\"/Dialogs\">Messages</NavLink></li>\r\n                            <li><NavLink to=\"/Users\">Users</NavLink></li>\r\n                            <li><a href=\"/#\">News</a></li>\r\n                            <li><a href=\"/#\">Music</a></li>\r\n                            <li><a href=\"/#\">Settings</a></li>\r\n                        </ul>\r\n                    </nav>\r\n                    <Route path=\"/Profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n                    <Route path=\"/Dialogs\" render={() => <DialogsContainer />}/>\r\n                    <Route path=\"/Users\" render={() => <UsersContainer />}/>\r\n                    <Route path=\"/Login\" render={() => <Login />}/>\r\n                </div> \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {initialized: state.app.initialized}\r\n} \r\n\r\nexport default connect(mapStateToProps,{initialize,toAuth})(Content);","import React from 'react';\r\nimport './Footer.scss';\r\n\r\nconst Footer = () => {\r\n    return(\r\n        <footer>\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae eligendi rem tempora similique hic suscipit. Eos iste sint porro repellat. Sit sint dolorum, eveniet veniam minus omnis! Debitis, animi aut!\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './Header.scss';\r\n\r\nconst Header = (props) => {\r\n    return(\r\n        <div className=\"header\">\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/LEGO_logo.svg/512px-LEGO_logo.svg.png\" alt=\"lego\"/>\r\n\r\n            <div className=\"login-block\">\r\n                {props.isAuth ? <button onClick={props.LogOut}>Log out</button> : <NavLink to={'/login'}>Login</NavLink>}\r\n               \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { LogOut } from '../../Redux/reducers/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return(\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {LogOut})(HeaderContainer);","import {BrowserRouter, HashRouter} from 'react-router-dom';\r\nimport Content from './Components/Content/Content';\r\nimport Footer from './Components/Footer/Footer';\r\nimport HeaderContainer from './Components/Header/HeaderContainer';\r\nimport './App.scss';\r\n\r\n\r\nfunction App(props) {\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <HashRouter>\r\n                <HeaderContainer/>\r\n                <Content/>\r\n                <Footer/>\r\n            </HashRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import './index.css';\r\nimport store from './Redux/redux-store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.jsx';\r\nimport {Provider} from 'react-redux';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n  );"],"sourceRoot":""}